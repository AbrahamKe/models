<html>
<head>
<title>docked</title>
<style type="text/css">
<!--
  :link { color: rgb(110, 0, 110); } 
  :visited { color: rgb(110, 0, 110); } 
  body { margin-left: 5px; font-family: arial, sans-serif; 
         background: white; font-size: 12pt } 
  h2 { background: rgb(166,172,255); 
       font-size: 15pt; 
       padding-left: 6px; padding-right: 6px; padding-top: 6px; 
       padding-bottom: 6px; } 
  p { margin-left: 10px; } 
  pre { margin-left: 13px; background: rgb(225,225,225); 
        font-family: monospace; padding-left: 3px; padding-right: 3px; 
        padding-top: 3px; padding-bottom: 3px; } 
-->
</style>
</head>
<body>

<p>This page was automatically generated by NetLogo 4.1beta4pre1.</p>

<p>The applet requires Java 5 or higher.
Java must be enabled in your browser settings.
Mac users must have Mac OS X 10.4 or higher.
Windows and Linux users may obtain the latest Java from
<a href="http://java.sun.com/getjava/download.html">Sun's Java site</a>.</p>

<p><hr>

<p><font size="-1">In order for this to work, this file, your model file
(docked.nlogo), and the file NetLogoLite.jar
must all be in the same directory.  (You can copy NetLogoLite.jar
from the directory where you installed NetLogo.)</font></p>

<p><font size="-1">On some systems, you can test the applet locally on your computer
before uploading it to a web server.  It doesn't work on all systems,
though, so if it doesn't work from your hard drive, please try
uploading it to a web server.</font></p>

<p><font size="-1">You don't need to include everything in this file in your page.
If you want, you can just take the HTML code beginning with
&lt;applet&gt; and ending with &lt;/applet&gt;, and paste it into any HTML
file you want.  It's even OK to put multiple &lt;applet&gt; tags
on a single page.</font></p>

<p><font size="-1">If NetLogoLite.jar and your model are in different
directories, you must modify the archive= and value= lines
in the HTML code to point to their actual locations.
(For example, if you have multiple applets in different
directories on the same web server, you may want to put 
a single copy of NetLogoLite.jar in one central place and
change the archive= lines of all the HTML files to point
to that one central copy.  This will save disk space for
you and download time for your users.)</font></p>

<p>
<applet code="org.nlogo.lite.Applet"
        archive="NetLogoLite.jar"
        width="1094" height="608">
  <param name="DefaultModel"
         value="docked.nlogo">
</applet>
</p>

<p>powered by
<a target="_blank" href="http://ccl.northwestern.edu/netlogo/">NetLogo</a></p>

<p>view/download model file:
<a href="docked.nlogo">docked.nlogo</a>
</p>
<h2>WHAT IS IT?</h2>
<p>This model explores the relationship between two different models of predator-prey ecosystems: an agent-based model and a aggregate model.  Each of the models can be run separately, or docked side-by-side for comparison.</p>
<p>In the agent model, wolves and sheep wander randomly around the landscape, while the wolves look for sheep to prey on. Each step costs the wolves energy, and they must eat sheep in order to replenish their energy - when they run out of energy they die. To allow the population to continue, each wolf or sheep has a fixed probability of reproducing at each time step.</p>
<p>The aggregate model is a System Dynamics model of the relationship between populations our wolves and sheep.  It is based on a version of the famous Lotka-Volterra model of interactions between two species in an ecosystem.</p><br>
<h2>HOW TO USE IT</h2>
<p>1. Adjust the slider parameters (see below), or use the default settings.<br>3. Press the SETUP-COMPARISON button.<br>4. Press the COMPARE button to begin the simulation.<br>5. View the POPULATIONS and AGENT-POPULATIONS plots to watch the populations fluctuate     over time</p>
<p>Parameters shared between agent and aggregate models:<br>INITIAL-NUMBER-SHEEP: The initial size of sheep population<br>INITIAL-NUMBER-WOLVES: The initial size of wolf population<br>SHEEP-REPRODUCE: The probability of a sheep reproducing at each time step</p>
<p>Parameters for agent model:<br>SHEEP-MAX-INITIAL-ENERGY: At setup time, sheep are given an energy between 1 and this value<br>WOLF-GAIN-FROM-FOOD: The amount of energy wolves get for every sheep eaten<br>WOLF-REPRODUCE: The probability of a wolf reproducing at each time step</p>
<p>Parameters for aggregate model:<br>WOLVES-DEATH-RATE: The rate at which wolves die.<br>PREDATION-RATE: The rate at which wolves eat sheep.<br>PREDATOR-EFFICIENCY: The efficiency of the wolves in extracting energy to reproduce from the prey they eat.</p><br>
<h2>THINGS TO NOTICE</h2>
<p>Why do you suppose that some variations of the model might be stable while others are not?</p><br>
<h2>THINGS TO TRY</h2>
<p>Try adjusting the parameters under various settings. How sensitive is the stability of the model to the particular parameters?</p>
<p>Notice that under stable settings, the populations tend to fluctuate at a predictable pace. Can you find any parameters that will speed this up or slow it down?</p><br>
<h2>EXTENDING THE MODEL</h2>
<p>There are a number ways to alter the model so that it will be stable with only wolves and sheep (no grass). Some will require new elements to be coded in or existing behaviors to be changed. Can you develop such a version?</p><br>
<h2>NETLOGO FEATURES</h2>
<p>Note the use of the System Dynamics Modeler to create the aggregate model.</p><br>
<h2>RELATED MODELS</h2>
<p>Look at the Wolf Sheep Predation model for an example of an agent model which can produce a stable model of predator-prey ecosystems.</p><br>
<h2>CREDITS AND REFERENCES</h2>
<p>Lotka, A.J. (1956) Elements of Mathematical Biology.  New York: Dover.</p>
<p>Wilensky, U. &amp; Reisman, K. (1999). Connected Science: Learning Biology through Constructing and Testing Computational Theories -- an Embodied Modeling Approach. International Journal of Complex Systems, M. 234, pp. 1 - 12. (This model is a slightly extended version of the model described in the paper.)</p>
<p>Wilensky, U. &amp; Reisman, K. (in press). Thinking like a Wolf, a Sheep or a Firefly: Learning Biology through Constructing and Testing Computational Theories -- an Embodied Modeling Approach. Cognition &amp; Instruction.</p><br>
<h2>CODE</h2>
<pre><font color="#5a5a5a">;; Sheep and wolves are both breeds of turtle.</font><font color="#000000">
</font><font color="#660096">breed</font><font color="#000000"> [sheep a-sheep]  </font><font color="#5a5a5a">;; sheep is its own plural, so we use &quot;a-sheep&quot; as the singular.</font><font color="#000000">
</font><font color="#660096">breed</font><font color="#000000"> [wolves wolf]
</font><font color="#007f69">turtles-own</font><font color="#000000"> [energy]       </font><font color="#5a5a5a">;; both wolves and sheep have energy</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> setup
  </font><font color="#0000aa">clear-all</font><font color="#000000">
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> ]
  </font><font color="#0000aa">set-default-shape</font><font color="#000000"> sheep </font><font color="#963700">&quot;sheep&quot;</font><font color="#000000">
  create-sheep initial-number-sheep  </font><font color="#5a5a5a">;; create the sheep, then initialize their variables</font><font color="#000000">
  [
    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">1.5</font><font color="#000000">  </font><font color="#5a5a5a">;; easier to see</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label-color</font><font color="#000000"> </font><font color="#963700">blue</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> energy </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> sheep-max-initial-energy
    </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">random-xcor</font><font color="#000000"> </font><font color="#660096">random-ycor</font><font color="#000000">
  ]
  </font><font color="#0000aa">set-default-shape</font><font color="#000000"> wolves </font><font color="#963700">&quot;wolf&quot;</font><font color="#000000">
  create-wolves initial-number-wolves  </font><font color="#5a5a5a">;; create the wolves, then initialize their variables</font><font color="#000000">
  [
    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">black</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">1.5</font><font color="#000000">  </font><font color="#5a5a5a">;; easier to see</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> energy </font><font color="#660096">random</font><font color="#000000"> (</font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> wolf-gain-from-food)
    </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">random-xcor</font><font color="#000000"> </font><font color="#660096">random-ycor</font><font color="#000000">
  ]
  display-labels
  update-plot
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> go
  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> </font><font color="#660096">any?</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> [ </font><font color="#0000aa">stop</font><font color="#000000"> ]
  </font><font color="#0000aa">ask</font><font color="#000000"> sheep [
    move
    death
    reproduce-sheep
  ]
  </font><font color="#0000aa">ask</font><font color="#000000"> wolves [
    move
    </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">  </font><font color="#5a5a5a">;; wolves lose energy as they move</font><font color="#000000">
    catch-sheep
    death
    reproduce-wolves
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> move  </font><font color="#5a5a5a">;; turtle procedure</font><font color="#000000">
  </font><font color="#0000aa">rt</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">50</font><font color="#000000">
  </font><font color="#0000aa">lt</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">50</font><font color="#000000">
  </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> reproduce-sheep  </font><font color="#5a5a5a">;; sheep procedure</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> sheep-reproduce [  </font><font color="#5a5a5a">;; throw &quot;dice&quot; to see if you will reproduce</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> energy (energy </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">)                </font><font color="#5a5a5a">;; divide energy between parent and offspring</font><font color="#000000">
    </font><font color="#0000aa">hatch</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> [ </font><font color="#0000aa">rt</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"> </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> ]   </font><font color="#5a5a5a">;; hatch an offspring and move it forward 1 step</font><font color="#000000">
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> reproduce-wolves  </font><font color="#5a5a5a">;; wolf procedure</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> wolf-reproduce [  </font><font color="#5a5a5a">;; throw &quot;dice&quot; to see if you will reproduce</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> energy (energy </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">)               </font><font color="#5a5a5a">;; divide energy between parent and offspring</font><font color="#000000">
    </font><font color="#0000aa">hatch</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> [ </font><font color="#0000aa">rt</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"> </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> ]  </font><font color="#5a5a5a">;; hatch an offspring and move it forward 1 step</font><font color="#000000">
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> catch-sheep  </font><font color="#5a5a5a">;; wolf procedure</font><font color="#000000">
  </font><font color="#0000aa">let</font><font color="#000000"> prey </font><font color="#660096">one-of</font><font color="#000000"> sheep-here                    </font><font color="#5a5a5a">;; grab a random sheep</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> prey </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">nobody</font><font color="#000000">                             </font><font color="#5a5a5a">;; did we get one?  if so,</font><font color="#000000">
    [ </font><font color="#0000aa">ask</font><font color="#000000"> prey [ </font><font color="#0000aa">die</font><font color="#000000"> ]                          </font><font color="#5a5a5a">;; kill it</font><font color="#000000">
      </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">+</font><font color="#000000"> wolf-gain-from-food ] </font><font color="#5a5a5a">;; get energy from eating</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> death  </font><font color="#5a5a5a">;; turtle procedure</font><font color="#000000">
  </font><font color="#5a5a5a">;; when energy dips below zero, die</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> energy </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> [ </font><font color="#0000aa">die</font><font color="#000000"> ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> update-plot
  </font><font color="#0000aa">set-current-plot</font><font color="#000000"> </font><font color="#963700">&quot;agent-populations&quot;</font><font color="#000000">
  </font><font color="#0000aa">set-current-plot-pen</font><font color="#000000"> </font><font color="#963700">&quot;sheep&quot;</font><font color="#000000">
  </font><font color="#0000aa">plot</font><font color="#000000"> </font><font color="#660096">count</font><font color="#000000"> sheep
  </font><font color="#0000aa">set-current-plot-pen</font><font color="#000000"> </font><font color="#963700">&quot;wolves&quot;</font><font color="#000000">
  </font><font color="#0000aa">plot</font><font color="#000000"> </font><font color="#660096">count</font><font color="#000000"> wolves
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> display-labels
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> ]
  </font><font color="#0000aa">if</font><font color="#000000"> show-energy? [
    </font><font color="#0000aa">ask</font><font color="#000000"> wolves [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#660096">round</font><font color="#000000"> energy ]
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> setup-aggregate
  </font><font color="#0000aa">set-current-plot</font><font color="#000000"> </font><font color="#963700">&quot;populations&quot;</font><font color="#000000">
  </font><font color="#0000aa">clear-plot</font><font color="#000000">
  </font><font color="#5a5a5a">;; call procedure generated by aggregate modeler</font><font color="#000000">
  system-dynamics-setup
  system-dynamics-do-plot
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> step-aggregate
  </font><font color="#5a5a5a">;; each agent tick is DT=1</font><font color="#000000">
  </font><font color="#0000aa">repeat</font><font color="#000000"> ( </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> dt ) [ system-dynamics-go ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> compare
  go
  step-aggregate
  </font><font color="#0000aa">set-current-plot</font><font color="#000000"> </font><font color="#963700">&quot;populations&quot;</font><font color="#000000">
  system-dynamics-do-plot
  update-plot
  display-labels
</font><font color="#007f69">end</font><font color="#000000">
</font>
</pre>

</body>
</html>
